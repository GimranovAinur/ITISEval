'247145 |@words начать процесс:3 переписывание ядро:2 php:22 идти:3 семимильный шаг этот:5 статья вольный пересказ пост один:6 автор код:3 достигнутый значительный:3 успех оптимизация:3 такой:8 структура:5 дать:2 как:6 hashtable:16 большой:3 технический подробность под кат простой скрипт который:10 создавать массив:29 100000:3 целое:5 число:3 демонстрировать:2 следующий:4 результат:3 bit:4 mib:8 тест:2 startmemory:4 memory:4 get:4 usage:4 array:3 range echo:2 bytes:2 можно:2 видеть потреблять:2 маленький:2 память:9 32-ха:2 разрядный:2 версия раз 64-ха:2 что:18 согласиться впечатлять лирический отступление сущность весь:8 это:19 упорядочить:3 словарь они:3 представлять себя:3 список:8 пара вид ключ-значение где ассоциирование ключ:13 значение:7 реализовать основа сделать для:12 тот:7 чтобы:4 мочь:2 выступать только:3 целочисленный:2 тип:3 сложный:2 вроде строка сам:2 происходить:2 образ:2 браться хэш:4 представить использоваться:3 индекс:8 проблема:2 возникать:2 когда:4 хэшировать функция:2 возвращать:2 одинаковый:3 разный есть:4 коллизия:4 действительно легко убедиться количество:2 возможный бесконечно время хэшея ограничить размер:10 integer существовать:2 два:4 способ:2 борьба открытый адресация элемент:17 сохраняться:2 другой если:4 текущий:2 уже занятый хранить:6 связной:4 использовать:3 обычно никак делать итерация:3 получать:2 именно порядок:5 туда записывать:2 означать:5 должный поддерживать механизм:2 хранение старый:2 работа:2 схема:2 наглядно принцип разрешение обозначить buckets корзина:12 каждый:2 выделяться картинка:2 показать храниться:4 так:4 помещаться отдельный zval-структура или:5 байт:6 также:3 опустить связный содержимый:3 быть:12 выглядеть:2 итак почему неэффективный план производительность требовать:5 выделение:3 место:2 довольно медленный дополнительно оверхед адресный заголовок:2 позволять:2 эффективно:2 кэш zval:5 оверхом плюс использование:2 обязывать мы:4 указатель:4 он:2 сумма двунаправить отнимать ещё кроме перемещение операция:3 плохо поддаваться кеширование:2 новый:2 реализация:2 призвать решить недостаток:3 переписать напрямую включать:3 объект например:2 вышеупомянутый стать:2 typedef:2 struct:3 bucket:3 zend:6 ulong string key:2 val:2 хеш:2 переменный:3 случай:10 идентичный давать взглянуть целиком uint32:7 ntablesize:3 ntablemask:5 nnumused nnumofelements:2 long nnextfreeelement ardata:7 arhash:5 dtor func pdestructor ninternalpointer union endian lohi uchar:2 flags:2 napplycount uint16 reserve кратный степень двойка минимальный реальный заметить теперь:3 вместо вставка при:4 удаление:2 помечаться метка undef учитываться дальнейший физически оставаться:2 пока:3 счётчик занятой ячейка достигнуть достижение лимит попытаться перестроить подход:2 сэкономить сравнение приятный бонус линейный сканирование гораздо более чем обход:2 единственный неуменьшаться потенциально привести потребление:2 миллион заведовать djbx33a битный беззнаковый слишком много качество выполнять таблица уменьшить единица ht-:5 idx:5 hash:2 получить:2 соответствовать:2 первое:2 нужно проверить там заканчивать поиск:2 противный следуемый пора найти искомый invalid:3 данный прелесть заключаться отличие требоваться:2 двусвязный сжатый пустой:4 определённый совсем рационально применяться сжатие:3 равный null сожаление применимый возрастание применить особый практика показывать:2 иметь неплохой шанс таковой остаться проинициализировать элмент вставить избежать костыль проверка приём равно:3 свой по-умолчание устанавливаться ноль выражение всегда:2 нуль всего:2 нулевой:2 искать встретить наш итог вышеперечисленный позволить сократить занимать 144 небольшой слегка избыточный отсутствие ускорение напомнить уменьшение fill несмотря хороший эффективность