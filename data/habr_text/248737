'248737 |@words так:4 давно выйти статья который:10 автор описывать свой framework для:18 написание приложение:2 использование ruby sinatra websoсket тот решение:7 быть:10 затронуть вопрос горизонтальный масштабирование:2 при:7 подключение:2 один:6 узел:14 пользователь:5 мочь получать:2 уведомление дать:8 только:2 событие:2 изменение:2 вызвать:2 это:7 внести через:7 другой:2 они:2 узнать:3 задача:3 необходимый организовать:2 общий шина:9 рассматривать данный:4 контекст обмен сообщение:16 клиент-клиент требование предъявлять следующий:2 простота работа:5 передача:4 реальный время производительность можно:4 хранилище:5 периодический:2 опрос:2 либо:2 сервер очередь:3 вариант:3 удовлетворять второе условие задержка:2 ровный период:3 уменьшение привести рост нагрузка он:8 поэтому этот:2 отметать сразу два:3 подходить хороший:2 всего случай:2 воспользоваться специализировать подобие rabbitmq activemq оба продукт представлять себя:2 серьёзный множество функция использовать:2 нужно оценить пушка воробей кроме подобный функционал предоставлять:2 redis:23 добавка key-value мы тоже понадобиться простой:2 механизм pub-sub достаточно:2 наш:2 быстрый иметь:5 малое система схема между:3 передаваться напрямую:2 генерировать уникальный имя:3 подписываться весь:2 клиент:11 подключить:4 записывать пара ключ-значение вид:2 идентификатор:2 отправка передавать обработка:3 теперь реализовать:2 качество библиотека websocket:2 выбрать faye-websocket-ruby стандартный гем:2 hiredis код:2 пример pubsub:2 eventmachine как:2 реализация работать блокировать режим поток web-сервер допустимый module:4 app:29 class:10 self:16 def:26 configuration yield:2 config:26 block:4 given:2 sessions:4 metriks:2 counter:2 'total active:3 'active end:57 __=:5 openstruct new:9 nil:7 root instance:6 securerandom hex logger:12 stderr register:11 multi:2 set:2 node:10 true:2 expire:4 next:3 tick sub:2 connect subscribe _type channel:2 message_ case type:2 when 'message' begin json:11 load:2 message:11 mode:4 compat:4 _base remote:3 messsage:3 rescue:7 error:15 else:2 debug pingpong:4 add:2 periodic:2 timer:2 основный модуль:2 заключаться метод:14 регистрировать:2 ожидать входящая мониторинг создаваться:2 ключ ttl:2 секунда:2 обновление:2 если:3 отвалиться такой:4 образ:2 всегда сколько сейчас находиться:3 сеть base:3 rack:4 404 freeze call:4 args:5 user:25 get:6 'from send:12 process:4 initialize:4 cache:6 env:3 return:6 unless:3 faye:2 _websocket:2 'xmpp ping:2 onmessage lambda:3 _event_:2 event:3 data:23 onclose info:7 close:5 code reason unregister:5 response:2 _user:7 _notunique dump:3 action:28 'not unique session private:2 'action:2 'data 'empty empty:5 unknown respond:4 puts:2 backtrace класс:7 отвечать установление соединение новый вешаться обработчик использоваться:2 приём внешний единый точка:2 прийти:2 клиентыmodule include:2 userbehavior:4 attr:4 reader:4 standarderror roomfull notfound:2 not found notunique fail:3 fetch keyerror _remoteuser:3 url:8 uri:2 parse:2 path:2 split:2 last:2 decrement del delete cancel client:7 from:12 increment:2 open version protocol remoteuser _notfound:3 'remote publish сопоставлять куда:2 кэшировать локальный:2 список напротив убирать запись:2 удалять таймер:2 проверка состояние чтобы мёртвый душа получаться:2 запрос формат hostname где:2 случайно сгенерировать уникальанить последовательность отправлять уже самый отдельный:2 место занимать возвращать экземпляр:3 найти:2 кэш создавать создание проверяться есть:2 какой принадлежать кидаться исключение отличие пересылать сформировать требовать неважно вызов доставить адресат classmethods:2 params:2 'register method:3 already defined first define:2 _data_ passthrough:2 included exec extend _user text_ text:2 'message 'to 'text сам вынести расширять предыдущий реакция каждый поль:2 первое идентифицировать кто пришлый определять три сопутствующий значение:2 передать подход получиться прозрачный важный или разный:2 тестирование запускать несколько порт корректно отправляться желающий попробовать рабочий выложить github запускаться просто rackupps являться закончить думать улучшить убрать лишний отправной вполне сгодиться