'231201 |@words улучшать наш:3 распределенный хостинг картинка:4 этот:9 часть:2 поговорить конфигурирование:2 приложение:5 подключить защита:2 csrf:3 затем:3 пример создание:3 миниатюра:9 научиться работать:2 блокировать задача:4 запускать корутина:2 параллельно обрабатывать возникать они исключение:3 конфигурационный параметр:11 конструктор:2 application:2 принимать keyword-аргумент уже сталкиваться это:7 передавать:2 debug=true второе однако:3 хардкодить такой:3 настройка:4 стоить иначе как:8 запустить:2 скрипт продакшний:2 где очевидно должный быть:3 false стандартный для:6 django другой питон-фреймворок приём хранить:2 общий конфигурация файл:2 settings:2 конец который:2 импортировать local перезаписывать:2 специфичный данный окружение конечно вполне мочь:3 использовать:3 трюк tornado:7 есть:3 возможность изменять конкретный помощь:3 командный:2 строка:2 давать посмотреть реализоваться from:4 options:10 import:5 define:6 'port default=8000 help='run the:5 given:2 port:4 type=int 'db:2 uri:5 default='localhost help='mongodb name:4 default='habr help='name database:2 'debug default=true help='debug mode:2 type=bool parse:2 command:2 line:2 motor motorclient определять синтаксис optparse нужный:2 место получать:2 вызывать:2 дефолтный значение дать мы:4 теперь:3 достаточно:2 debug=false запуск help:4 показать весь:3 возможный python3:2 app:2 usage default:8 habr mongodb localhost debug:2 true show this information run:3 8000 home imbolc pyenv versions lib site-packages log:12 file:10 max:3 size:5 files:4 before rollover 100000000 num backups number:2 keep prefix=path path prefix:3 for:3 note that you are running multiple processes must different each them include stderr:3 send output:4 colorized possible use not:4 set:4 and other logging:2 configured logging=debug_info_warning_error_none python level 'none n't touch configuration info видеть:2 торнадо:2 автоматически добавить:3 логирование xsrf:4 cookies=true попробовать загрузить:2 новый увидеть ошибка:2 http 403 forbidden argument missing post:2 сработать восстановление:2 работа:2 форма загрузка module form html:2 хтмл-код страница превратиться что-то тип:2 input type= hidden name= value= 2_a52d8046_a83cbd25c8b7c06e2c3ac476338982d8_1406302123 изображение:13 при:2 отображение:2 список:2 последний простота полный настать время поправить момент понадобиться pillow:3 современный форк pil:2 известный библиотека pip3 install однопоточный ресурсоёмкий операция:3 обработка:2 свести нет пляска асинхронность:2 самый простой решение вынести отдельный:2 тред:2 concurrent futures threadpoolexecutor:2 image:7 class:3 uploadhandler:2 web:7 requesthandler:3 executor:3 workers=os cpu:2 count gen:3 coroutine:3 def:4 self:11 request 'file try:2 thumbnail:7 yield:10 make:3 body:3 except:2 oserror:2 raise:3 httperror:3 400 can identify orig:4 thumb:4 gridfs:6 put:4 content:9 type=file:2 type:3 type='image:2 png:2 imgs:7 save:2 'orig:2 'thumb:2 redirect open bytesio:2 convert 'rgb 128:2 antialias with 'png return getvalue сначала создавать:2 пулла воркер ограничение количество:2 ядро оптимально процессоро-ёмкий если:2 одновременно:2 большой остальной ждать свой очередь асинхронный метод:2 обернуть декоратор что:2 вызвать выполнение один:2 executor-а обратить:2 внимание:2 красиво перехватывать бросать распознать формат требоваться явно ответ делаться случай колбэчный например:2 node просто синхронный стиль далее сохранять:2 оригинальный вместо последовательный вызов:2 параллельный:2 сохраняться иметь смысл любой:2 зависеть:2 друг:2 объединить сохранение:2 оригинал:3 совместить удаться так:2 два результат завершение информация:2 коллекция:3 чтобы связать дальнейший там можно автор право доступ появление соответственно:2 измениться:2 get:4 find:2 sort list render 'upload imgs=imgs showimagehandler:3 img:11 bson:2 objectid:3 errors invalidid 404:2 'bad one 'image found gridout:4 header:2 'content-type 'content-length length stream handler дополнительный уточнять хотеть получить или регулярка url:5 orig_thumb name='show шаблон href= reverse:2 'show:2 src= end заключение сегодня код предыдущий доступный github