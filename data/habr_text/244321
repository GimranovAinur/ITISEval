'244321 |@words версия freepbx asternic:5 cdr:7 reports:4 1введение задача необходимый дать:2 человек возможность прослушивать запись:4 разговор:2 строго определённый диапазон:3 внутренний экстеншеновый пытаться создать:2 новое администратор:2 даже прописывать он:5 extension:4 range:2 надеяться такой:2 образ:2 ограниченный:2 доступ:2 прослушивание:2 потом:2 заходить под:2 учётный направляться отчёт:2 звонок:4 понимать что:4 потерпеть фиаско игнорировать задать выводить информация:2 весь:3 номер:2 почесать затылок искать:3 альтернативный модуль:2 чудо находить замечательный работать только тот который:5 для:3 авторизоваться это:5 нет:2 столбец listen выводиться голосовой:2 почта:2 так:3 дело пойти исправлять asterisk храниться:2 mysql база:2 asteriskcdrdb таблица:2 видно следующий код:2 взять:2 файл:11 page php:5 обычный resultscdr:2 dbcdr- getall query:3 fetchmode assoc foreach row:27 'recordingfile:6 rec:8 parts:8 explode:2 fyear:4 substr:7 ,0,4:2 fmonth:4 ,4,2:2 fday:4 ,6,2:2 monitor:6 base:4 amp:6 conf:6 'mixmon:4 dir:4 'astspooldir:2 recordingfile:13 file:5 exists:2 else:4 значит мы нужно прочитать значение:2 ячейка:2 где строка:3 имя:2 wav:3 добавить:2 полный путь браться кстати самый:2 год месяц день открывать var www html admin modules functions:2 inc:2 154 billsec:2 duration:2 duration-billsec:2 ringtime:2 src:2 заменять:2 запрос пол соответственно теперь:2 быть результирующий массив формирование ссылка:3 208 detail:15 'chan1:15 uni:7 'uniqueid str replace 'userfield:3 href=:3 javascript:2 void:2 onclick='javascript:2 playvmail play:3 div:4 class='playicon title='play id='play style='float:2 left:2 img:3 src='images:2 blank:3 gif:2 alt='pixel:2 height='16:2 width='16:2 border='0:2 return:2 false:2 downloadvmail ftype fdisplay ftab class='downicon title='download id='dload наif style='text-align center title= self getrec= base64:3 encode target= src= images playicon png alt= call recording вместо вывод:2 сделать проверка:2 наличие:3 данный случай:2 нахождение небольшой иконка закодировать сам:2 аудиозапись:2 внимательный читатель заметить формировать есть переменный:2 get-запрос название getrec:2 как веб-сервер иметь каталог отдавать:2 через конец:2 делать обращаться функция добавлять себя закрывать php-тег function recordfile:2 uri:2 path:4 size:3 filesize name:3 basename strtolower strrchr this will set the:4 content-type:2 appropriate setting for ctype:3 switch case:7 ctype=:7 audio:8 x-wav:3 break:8 ulaw basic alaw x-alaw-basic sln gsm x-gsm g729 x-g729 default not:2 downloadable echo:2 404 found foo todo what none above work fp=fopen header:9 pragma public:2 expires cache-control:2 must-revalidate post-check=0 pre-check=0 content-description content-disposition attachment filename= content-transfer-encoding binary content-length chunksize:2 1024:2 while feof buffer:2 fread flush:2 fclose isset get:2 'getrec:2 decode die done довольный счастливый ведь можно легко скачать прослушать локально аудиоплеер