'231623 |@words админский:2 загадка:3 сервер:6 произойти три:9 oom:8 kill':2 мониторинг:8 сказать:2 только:3 про:4 два:9 почему:3 конфигурациядлить всего:3 мы:4 настроить:3 связка ganglia-shinken-logstash-elasticsearch-kibana полный:3 описание довольно:2 обширно так:5 что:16 ограничиться частью иметь:2 отношение проблема:6 logstash:4 присылаться:2 лог:4 весь:9 складывать elasticsearch:3 конфига logstash':2 реакция всякий странный сообщение:22 который:6 свидетельствовать если:5 появляться event:2 shinken:4 разный метод:3 начинать:2 беспокоить админовый помимо:2 syslog':2 слать большинство приложение:4 ещё отправка:3 netconsole:7 ядро:4 сам технология простой невозможность dmesg' посылать вид:2 udp-датаграмма:2 указанный mac-адрес:2 нужный потому:2 очень:3 низкоуровневый:2 заниматься разгадывание как:6 сделать mac есть:6 arp собираться благодаря низкоуровневость проходить даже:3 ситуация катаклизм например программный коммутатор:2 перестать работать:4 сеть:4 недоступный равно быть:12 посылаться:2 более тот:5 они iptables drop vsyo nafig самый:4 главный ценный:2 этот:3 успешно отправить:3 дисковый подсистема полностью:2 для:6 post-mortem исследование именно:2 случиться:2 зависнуть оно:2 очевидный кандидат плохой являться oom-killer' 517935:6 914380 ntpd invoked:4 oom-killer:2 gfp mask=0x201da order=0 score:2 adj=0 914730 call trace 914807 ffffffff816e14ce dump header+0x83 0xbb 914877 ffffffff816e155b kill:5 process:5 part 6+0x55 0x2cf финальный торжествовать 951044 out:3 memory:3 4550:2 apache2:2 247 sacrifice child 951203 killed total-vm_2610268kb anon-rss_2012696kb file-rss_3928kb итак:2 возвращаться идти пусконаладка предпродаксить вдруг апач точнее wsgi-приложение насасываться дать неприличие он:5 прибивать слово:3 fat somewhere else админ:2 приходить казалось хорошо:2 смысл oom':3 прислать порядок:2 симптом таинственный неведомый фигня звать придворный шаман бубен сбор данныхпервый вопрос:5 перепроверять локально ручка выписывать:2 процесс:3 точно:2 убитый почта проверять:2 shinken':2 срабатывание:3 сгенерировать дошлый echo performing tests dev kmsg kibana:4 появиться значит приём выглядеть:3 наивный запрос частый логово:2 тогда алерот смотреть:3 фильтр:4 возбуждаться строчка:2 строчка-то настраивать выборка чтобы:2 остаться наедине конкретный:2 вывод данный спойлер выжить кибана следующий серия вроде построчно сравнивать тем dmesg хост видный:2 трейс мерзко дамп свободный память отсылаться отдельный кусочек превращаться:2 набор бессвязный 5040 256kb список:2 ага целиком вообще нижний половина простыня нет:2 предыдущий место тут:2 часть:2 факт:2 записать поскольку возбуждение происходить:2 при:2 получение:2 можно:3 предполагать тоже:3 дойти взаимодействие пока пропустить сужать фокус разбирательство:2 один:2 сторона:2 udp:3 гарантировать доставка такой другой:2 это:4 наш:2 локальный повышенный загрузка:2 snmp жаловаться моргание сетевой:7 линк графика ровный никакой:2 связность наблюдаться момент интуиция какой размер:2 запись:2 файл получаться 5kb гипотеза лезть подходить каждый короткий:2 сотня байт вот кто:2 быстрый:3 генерировать udp-пакет низок уровень ядерный:2 тред или java:2 прогонять получить регэксп записывать база отправлять повод event' очевидно special high-grade class software:3 that makes careful use relevant architecture design principles build particularly customizable and extensible solutions real problems справляться чем:2 грязный код goto встречаться 119287 раз 16-rc7 пакет:5 оказаться enterprise grade мочь:2 обработать добрый волшебник помогать уснуть прямо выход интерфейс:7 помощь хэдшота фокусироваться внезапно сенсация драма скандал logstash'ть вопить вселенский несправедливость никто:2 слышать bond0 link encap ethernet hwaddr бла-бла-бнуть broadcast running master multicast mtu_1500 metric_1 packets_455816267 errors_0:2 dropped_130361 overruns_0:2 frame_0 packets_73379669 dropped_0 carrier_0 collisions_0 txqueuelen_0 сто тридцать тысяча вместо жить радоваться приносить счастие спать разбудить фиксировать:2 контролировать число:4 drop':2 вне зависимость дальнейший починить наблюдение задача task traker' мониторить изменение:2 очередной забег:2 гуголь:2 подсказывать увы сбрасывать счётчик гуманный нельзя forensic system administration этап заканчиваться причина:2 несрабатывание:2 ясный дно вызывать большой сверхкороткий промежуток время поспевать избыточный drop'аться рассматривать случай:2 пропасть убито чинить показать буфер сокет чтение контролироваться man setsockopt rcvbuf продолжать спринт препятствие гугл опция конфигуа называться buffer size здравый размышление поднять:2 1мб нагуглить существование net core rmem max по-умолчание она 200+кб 12кб вероятный относиться 2мб помешать результат выяснить теперь следить drop'ами готовый принять больший всплеск логгинга без потеря говорить tcp:2 тисипить уметь делать заполнить поль ethernet-frame наверное забавно начать подтормаживать из-за задуматься