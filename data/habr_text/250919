'250919 |@words привет хабра при работа:4 над проект:4 vircities наш:3 студия столкнуться неудовлетворительный скорость обработка запрос:8 через:2 cakephp:7 который:3 написать бек-сайда после:3 проведение:2 нагрузочный тестирование:3 профилирование:2 приложение обнаружить самый:2 узкий место:2 оказаться orm:6 кейка:3 поиск возможный вариант:4 решение:3 этот:3 проблема быть:6 провести:3 дополнительный:2 эксперимент использоваться:3 сложный 2-3 уровень:3 база:4 contain:8 recursive без query прямая:2 pdo:7 ниже:2 привести маленький пример:3 как:3 код:3 для:3 public:3 function:3 this-:12 out:6 'start:3 result:3 company-:3 find:2 'all:3 array:15 'contain:2 'user:3 'city' 'finish:3 описывать проблемный выглядеть несколько:2 исключение:2 обычно есть:2 либо:2 limit условие перечисление нужный полый 'fields' getdatasource getconnection stm:3 pdo-:3 prepare:3 select:3 from:3 companies:3 stm-:6 execute:3 fetchall foreach company:4 users where:2 user:8 fetch:2 cities 'city:2 city:2 clearresult:3 'company приводить:2 тайминг тест:2 time:4 cake:4 ormtest:4 real:4 0m0:7 417s 216s sys:4 044s~ 185s 100s 012s цифра получить:2 рабочий машина один:3 разработчик боев сервер значение сохранение соотношение чистый показать хороший результат:4 даже смотреть что:3 join:2 итог решить:2 оптимизировать поведение:3 containablebehavior:2 почему сделать именно так:2 оказать влияние следующий:2 фактор большой кодовый летний история фреймворк очень жёсткий связь:3 между компонент ограничение время ресурс:2 поэтому:2 исключить сразу замена:2 фреймворка апгрейд:2 версия:3 особенно учёт тот она ещё выйти релиз модификация:2 ядро:3 ручной переделка дело три оптимальный ждать релизныть возможность высвободить данный переход немаленький сейчас мы прийтись искать собственный путь разделить оптимизация этап новое уложиться 400 строка он тут кусок смысл видеть весь желающий мочь ознакомиться github краткий описание изменение:2 beforefind преобразовать отдавать далёкий последующий сохранять постобработка afterfind сохранить собирать выполнять использовать аттачить массив:2 отдать внесение:2 специально усложнить обкатывать belongsto hasone hasmany 'manager 'companyworker 'companytype 'companyproductiontype 'itemtype:2 'itemtyperesource:2 'itemtypemain':2 'companyreceipt 'companyproductionprogress 'currentproduction 'corporation 'user' вот оригинальный 1m21 964s 0m24 768s 0m6 160s это модифицикация 0m5 849s 0m1 772s 448s результирующий идентичный сортировка ключ надеяться кто-нибудь пригодиться или натолкнуть светловать мысль уважение