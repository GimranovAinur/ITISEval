'244497 |@words классический:2 реализация:3 фабричный:5 метод:7 c++:2 есть один:4 существенный недостаток использовать:5 при:12 это:16 шаблон:2 динамический:4 полиморфизм:2 предполагать размещение объект:32 память:18 если:9 размер:9 создавать:11 велик создаваться они часто мочь:3 негативно сказаться производительность:2 связанный тем:2 что:9 оператор new:10 очень:2 эффективный выделение:2 малое второе частый деаллокация небольшой:2 блок сам себя требовать:2 много ресурс для:7 решение:2 этот:7 проблема:3 быть:14 хорошо сохранить:2 без он:6 реализовать получиться:2 выделять:4 стек:3 вы интересно как:2 я:2 добро пожаловать под кат возможный include:7 iostream:3 memory:3 struct:9 base:23 static:20 std:41 _unique:4 ptr:4 create bool:9 virtual:14 void:22 const:14 ~base:8 _cout:20 _endl:13 public:12 override:4 size:17 this:2 _create:2 return:19 else:6 int:5 main:3 auto true:2 addr:4 compile run g++ -std=c++11:2 cpp:2 out:2 output:2 21336080 140733537175632 тут думать ничто:2 комментировать нужно:2 диапазон адрес:2 можно:2 косвенно убедиться создать:3 действительно разместиться:2 куча теперь:3 избавиться:2 сказать:2 выше исходить тот иметь предлагать ниже вариант улучшать счёт незначительный перерасход code:2 here:2 class:5 basecreator:26 union:3 ~basecreator:2 reinterpret:10 cast:10 _~a:2 _~b operator-:4 private:4 unsigned:5 char:7 sizeof:11 argc:2 argv:2 140735807769160:2 напечатать видеть таки идея здесь простой брать объединение:12 который:3 помощь:2 узнать самый ёмкий тип:26 затем нужный специальный форма размещать:3 она корректно:3 разрушать:3 разместить:11 выделить:3 принцип остановиться получить нравиться информация класс:2 присутствовать три:3 место:3 мы:3 понадобиться наш:2 ещё:2 прийтись синхронно вносить изменение весь:2 случай ошибка:3 компилятор режим выполнение всплыть сразу 2-3 10-15 вообще беда попробовать улучшить basecreatorclass createobj:3 deleter:23 запретить:5 копирование:5 delete:5 только:5 перемещение:5 default:5 typedef:3 template:14 typename:16 freeobj:2 _~t:3 такой образ правка добавление стать два уже:3 хороший перфект:2 основный остаться:2 решить задача предоставлять наглядность возможность:3 определять необходимый умный просто знать свой позволять динамически немой перечисленный:3 разумеется осуществлять контроль нет types:8 typeunion:23 разрешать:2 создание:6 неинициализированный:2 ~typeunion:2 проверять:6 какой-нибудь:3 mem:10 должный:2 среди:2 указанный:2 список:4 аргумент:4 args:12 передать:2 конструктор:2 assign:6 этап:7 компиляция:7 assert:8 usize:8 empty:4 same:8 type:2 must:2 present:2 the:2 list:2 какой-то:2 освобождать:2 точный:2 передача:2 _forward:2 функция:6 разрушить:2 инстацировать:2 freemem:4 получать:2 указатель:2 get:4 _assign:2 was:2 not:2 called:2 вызов:2 деструктор:2 вдруг:2 кто:2 захотеть:2 пустой:2 constexpr:10 max:14 вычислять:4 максимум:2 несколько:2 _is:2 _value:2 шаблонный:2 использоваться:2 разрушение:2 максимальный:2 содержаться:2 вмещать:2 наиболнуть:2 nullptr:2 выглядеть куда приятный obj:9 вот запись наглядный чем несоответствие отловить полный код пример cassert false clang++ грабли заметить спасибо внимание