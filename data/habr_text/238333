'238333 |@words жить-быть консольный приложение:7 который:4 создавать appdomain:5 запускать немой:3 сервис основа topshelf однажды появиться баг после:2 нажатие ctrl-c оно:3 завершать:2 свой:3 работа:2 сообщать получение команда выключение зависать:4 такой состояние краткий анализ показать что:4 выгрузка:2 домен:2 странно выкидывать исключение cannotunloadappdomainexception далее быть:2 заметить при:7 закрытие:2 только выполнение определённый задача это:3 есть несколько лишний поток:4 перед наблюдаться случай:3 нормальный завершение как:2 можно догадаться название дело оказаться systemevents:9 использование system drawing solidbrush происходить:2 добавление:2 обработчик:5 userpreferencechanging так отдельный инициализация:2 тип ещё:3 раз создаваться один:2 имя net:2 старт добавлять консоль:4 вызываться:2 dispose:2 удаление:3 unsafenativemethods setconsolectrlhandler consolehandler нагуглила пара упоминание проблема:3 весь решение:2 сводиться вызов shutdown через reflection я помочь должный вроде помогать потом вызывать тогда решить нужно какой:2 образ избежать:2 создание:2 два лазейка найтись метод:2 ensuresystemevents bool:2 requirehandle throwonrefusal:3 thread getdomain getdata null throw new:2 invalidoperationexception getstring errorsystemeventsnotsupported return тут идти мыть этот:2 false поэтому domain setdata object позволять зависание он корректно возможный побочный эффект код опираться проверка свойство мочь:2 посчитать наш asp если кто знать:2 вызвать настройка или более безопасный подходящий просить поделиться