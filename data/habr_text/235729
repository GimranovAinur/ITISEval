'235729 |@words эффект:4 гравитационный:2 линза вызвать скопление галактика rcs2 032727-132623 возникнуть недавно необходимость реализовать:4 unity:3 достаточно:2 правдоподобный изображение:7 чёрный:7 дыра:7 соответственно линзирование вызывать один:5 мысль быть:4 найти:2 готовый реализация подстроить под себя однако поскольку:2 хороший решение:2 так:2 что:9 весьма странно знать:2 насколько популярный игра космический тематика решить самостоятельно заодно поделиться результат:2 хабросообщество для:6 начало написать скрипт который:7 повесить камера:3 применять:2 шейдёр:7 выводить экран:5 скриптusing unityengine executeineditmode public:5 class lens monobehaviour shader:5 float:8 ratio:8 отношение высота длина правильный отображение:2 radius:2 радиус:5 измерять тот:3 единица остальной объект:6 сцена gameobject позиция:5 браться private material:17 материал находиться:5 protected:2 get null new:3 hideflags:2 hideanddontsave return:4 virtual void:2 ondisable destroyimmediate onrenderimage rendertexture:2 source:2 destination:2 находить экранный координата vector2:3 pos:5 this:4 camera:4 worldtoscreenpoint:2 transform:4 position:11 pixelwidth 1-this pixelheight устанавливать весь:2 необходимый:2 параметр setvector setfloat:3 rad:14 distance:6 vector3 получить:2 graphics blit теперь:2 приступить более важный часть:2 написание самый дело мы:3 зависимость:4 искажать float2:6 offset:10 сдвигать:2 наш:3 пиксель:2 нужный:2 ratio,1:2 определять:4 соотношение:2 сторона:2 length:2 расстояние:4 физика формула:3 преломление луч свет проходить масса:2 иметь вид определяться как:4 получать следующий конструкциюfloat deformation:3 pow:6 z,2 где:2 сила искажение:4 каждый:2 конкретный точка при это:2 некоторый размер:2 понять этот выражаться обратиться кольцо эйнштейн:2 дать интересовать дистанция потому большой можно:3 отбросить наблюдать лишь:2 обрабатывать мерный мочь сказать далеко хотя:2 помощь карта глубина исказить корректно получиться потребоваться всего поэтому предположим dls тогда видеть обратно пропорциональный корень растояние получаемdeformation distance,0:3 применимый деформация =offset:2 1-deformation:2 вернуть место отобразить half4:2 res:8 tex2d:2 maintex:4 полный код шейдераshader gravitation lensing properties base rgb white subshader pass ztest always cull off:4 zwrite fog mode cgprogram pragma:3 vertex:2 vert:2 fragment frag:2 fragmentoption arb precision hint fastest include unitycg cginc uniform:5 sampler2d struct v2f:4 float4:2 texcoord0 appdata img mul matrix mvp texcoord color условный центр g+=0 проверка:2 соблюдение r=0 g=0 b=0 endcg fallback вот насладиться данный массивный перед использовать ещё рисовать поверх основной такой нельзя назвать элегантный оно неплохо работать:2 мыть случай обратить внимание пост только pro версия