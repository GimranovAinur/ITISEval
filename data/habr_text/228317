'228317 |@words если:8 какой-либо:2 операция превращаться:2 рутина:2 автоматизировать:2 даже время:5 потратить большой:2 зато:2 заниматься:3 интересный:2 дело:3 именно:3 под:3 этот:9 вывеска вместо:2 тот:2 чтобы:6 просто:4 запатчить:2 новое версия:4 rtsp:4 streamer' для:11 камера topsee:2 решить:2 нарисовать автопатчер идеальный язык любой наколенный изделие считать:2 питон:2 достаточно:2 лаконично жёстко читабельность хотя весь:25 равно:3 умудряться сделать он читаемый общий:2 сейчас рассказать как:14 помощь:3 палка:2 верёвка:2 один:9 вечер:2 научиться:2 рисовать автопатчеры итак:8 главное требование скрипт:7 коленка максимальный соответствие:3 ожидание:5 должный:2 либо:4 работать:2 сообщать:2 что:22 что-то:4 главный ошибка:2 такой:2 это:14 действие без проверка:2 так:14 иначе:4 можно:2 заметить поменяться требоваться вмешательство человек вспомнить:2 делать:3 прошлый раз:3 пройтись ещё:5 путь вручную:4 грузить файл:9 дизассемблер находить:4 функция:24 fctnl проходить вызов поиск:7 использование:2 fcntl:13 nonblock:6 два:4 makesocketblocking:9 makesocketnonblockingскрыть текстboolean:3 makesocketnonblocking:8 int:8 sock:13 defined:7 win32:4 unsigned:6 long:2 arg:12 return:19 ioctlsocket:2 fionbio:4 elif:5 vxworks:2 ioctl:2 else:9 curflags:3 getfl:3 setfl:3 curflags_o endif:2 boolean:4 искать:3 код:8 sendpacket:18 прошлое знать:2 нея:2 вписать отладочный:2 printf' который:7 найти:20 составлять:2 труд скрытый rtpinterface:2 _sendpacket:2 char:2 packet:4 packetsize:4 success:6 true:3 'll:2 false:4 instead:2 any:2 the:5 sends:2 fail:2 for:11 tcpstreamrecord:2 streams:6 ftcpstreams:2 null:2 streams-:10 fnext:2 sendrtpovertcp:14 fstreamsocketnum:2 fstreamchannelid:3 printf:4 failed:2 chn:2 socket:5 патчим функциюскрыть res:2 вот:4 мы:14 нужно чтоб:2 запустить получить:2 причём:2 разный:3 прошивка:2 использоваться:3 где-то:2 fcntl64 зависимость опция компилятор:2 регистр использовать:3 небольшой:2 другой:3 отличие оттранслированный наблюдаться начать:4 писать:4 наш понятный:2 патчить быть:7 имя:2 патчуять передавать надо:11 аргумент значит:3 начаться import:3 sys:2 fname:2 argv себя метр вес память:3 много:2 поэтому:4 заморачиваться беготня загрузить сразу:5 open:2 r+b seek:3 size:3 tell read close:3 где:2 реальный зацепка =0x800 сторона библиотечный никто трогать они:5 идти:2 подряд есть:10 text_0003c554:2 stmfd:9 text_0003c558 mov:22 cmd:6 text_0003c55c text_0003c560 text_0003c564 text_0003c568 text_0003c56c bic text_0003c570 text_0003c574 text_0003c578 mvn:3 text_0003c57c lsr:3 text_0003c580:2 ldmfd:4 end:5 function:6 text_0003c584:3 code:4 xref:8 sub:4 43524+40p text_00043608p text_0003c588 text_0003c58c text_0003c590 text_0003c594 text_0003c598 text_0003c59c orr 0x800 text_0003c5a0 text_0003c5a4 text_0003c5a8 text_0003c5ac text_0003c5b0:2 скопировать опкод:2 лоб заменимый параметр отличаться адрес:10 настройка blockmask:2 save:3 clear restore дополнительно поставить метка:2 начало не-опкод закомментировать оставить будущее теперь:9 превратить строка:10 маска:5 разумеется совершенно охоть через регексп:3 благо отладить оптимизировать самый:3 баловаться прочитать тоже:2 удобно посему преобразовать:3 def:9 masktoregex:3 mask:6 flags=re:2 multiline:2 masks:3 findall:4 rgx:5 поведение простой удалять:3 комментарий конец пробел остаться символ:3 рубить пара:2 смотреть:2 заменять точка:2 люба:2 вставлять запоминать положение генерировать приписать мочь:2 давать наконец find:14 offset:17 and:4 makeblock:7 none:9 makenonblock:9 finditer:2 dotall:4 start:14 print:22 found:8 hex:7 non-unqiue:2 makeblocking:2 functions:2 break:3 not:8 дать:2 важный:2 момент во-1ха глобальный проверять:3 попасть:2 только:3 блок действительно:2 отладка добавлять распечатка смещение:5 место:5 во-2ха забыть про попадать байт:2 бинарный заглянуть дизассемблятина text_0006c9a0:3 69fb8+144p text_0006d144p r4-r11 text_0006c9a4 text_0006cb78 bne loc:3 6ca8c text_0006cb7c:2 6cb0c text_0006cb80:2 off:6 6cb80 dcd:4 data:4 sendpacket+7cr sendpacket+f0r text_0006cb84:2 6cb84 asendpacket sendpacket+80r sendpacket+f4r text_0006cb88:2 6cb88 asendrtpovert sendpacket+98r text_0006cb8c:2 6cb8c aremovestreamso sendpacket+110r removestreamsocket chnid ага ссылка:2 лежать:2 после:2 спасибо макрос она:2 отдельный независимый отмотать вверх инструкция:7 возникать вопрос проблема виртуальный:2 разбор тут:2 приходить всемогущий гуголь пакет pyelftools:2 pip install выкуривать приложить документация там:3 ничто нет полезный лезть тупо elffily вкусный обратный задача address offsets self:2 size=1 yield:2 file:2 each elf:4 segment containing memory:2 region:3 range start+size yielded seg:6 iter:2 segments:2 vaddr:4 filesz:2 понятно лёгкое движение рука брюки элегантный шорты from elftools elffile:3 offtova:6 offset-k string:4 itself offstr:6 x00:9 len:6 ==1:3 search:3 offstrva:6 +s+:2 ==0:2 marker too many markers лень:2 метод:2 сперва пытаться удобный:2 лишний:3 я:2 лично эксперимент повторять restrlink:3 02x:4 256:18 offlink:8 debug:2 n't:3 usage уже:6 догадаться написать findstringlink:3 понадобиться прошагать назад из-за ограничиться анализировать битый причина далёкий поломаться чем узнавать тогда смочь хороший чинить previous begin nearest instruction findfuncbegin:3 maxlen 0x1000 maxstart:2 max offset-maxlen while:3 offset+2 offset+4 x2d:2 xe9:2 нужный:2 наконец-то sendpacketend:4 sendpacketstart:4 приблизиться цикл:5 внутри:2 убедиться:2 ранее sendloopmask:2 loopbody:2 loopnext:3 sendpacket+74j ldr:3 cmp:3 beq 6ca74 sendpacket+4cj sendpacket+d0nj bge:2 проверить:4 поменять сильно или пропатчный sendrtpovertcpstart:8 уметь туда переход:2 arm абсолютный относительный плюс задаваться:2 исчислять текущий квант делить рисоваться как-то targetaddr opcode bytes word curaddr итог получать вычисление:2 куда:2 ссылаться:3 некий какой операнд некого binarg:2 ord +ord off+1 256+ord off+2 argtobin:7 chr +chr:2 cmdtargetoffset:6 cmdoff:3 0x800000 0x1000000:2 cmdoff+ d1+1 4+4 cmdtargetarg:8 target:2 cmdoff+4 когда:2 кирпич отложить построить очередной переборка loop:7 sendpacketlooprx:3 sendpacketloop:12 sendpacketloopnext:2 sendpacketloopbl:7 inside loops check that link really first:2 call =binarg bug:2 inconsistent:2 with:3 sendpacketloopbl+3 немой заодно консистентный позволять защититься опечатка избавиться покрытие тест программный продукт необходимый максимум телодвижение пропатчить добавить:2 новый:2 принф они-то принтф затирать прийтись:2 оба:2 next two:2 printfs:2 printf1:7 sendpacketloopbl+4 printf1+3 xeb:5 printfstart:2 printf2:8 printf2+3 error after printf1-sendpacketloop:2 4-7:2 warn instructions need cleanup 2nd опять простейшее путём брать ближний размер пойти ругнуться соответствовать хорошо собрать вместе дурь три вёдро сгенерировать:2 патч:2 generate new body patchsendpacket:18 ldrsock:3 x08 +fw sendpacketloopnext+2 xe5 tgtsocketblock:2 sendpacketloop+len:4 copy movs tgtsendrtpovertcp:2 x01:2 tgtsocketnonblock:2 xbd xe8 x50 xe3 tgtloopnext:2 xaa fill nops:3 xa0 xe1 generated patch patches:4 append successfully patched:2 пока целый вперд fin fname+ fixed w+b sort last:4 write:3 +len грамм мозг легко запатчили стример уйти:2 примерно при следующий обновление потребоваться тратить вообще todo:2 echo perl -pe repack unpack:2 root opt streamer:3 done:2 0-9 python tcpfix кома выложить более гитхаб