'247047 |@words наверняка почти каждый:5 кто:2 иметь:3 дело:3 известный:2 подобный:3 конструкция:4 int:15 ints:13 new:4 1,2,3 если:4 вдруг быть:6 отныне впредь точно вполне логично было-бы ожидать превращение этот:3 нечто:3 увы орех гораздо более:2 морщинистый чем:2 кажется первое взгляд:2 иметься:2 некоторый тонкость который:9 указать:2 поздний тот:4 пора надеть ношеный freak майк погрузиться недра реализация:4 конечный:2 итог один:4 превратиться компилятор:7 такой:4 вот:4 загогулина что:17 диво мыть сад это:15 privateimplementationdetails:14 blablabla ерундовина прежде рассказать давать:2 бросить наш:2 _main:3 где:2 значение:8 вершина:3 стек:5 перед строка:2 код:7 method:4 private:4 hidebysig:2 static:7 void:7 main:2 cil:6 managed:2 entrypoint:2 code:2 size:4 0x14 maxstack:2 locals:2 init:2 int32:8 0000:2 nop:2 0001:4 ldc:7 0002:4 newarr:3 mscorlib:18 system:21 0007:5 dup 0008:6 ldtoken:3 field:8 valuetype:14 8c802ece-b24c-4a20-ae34-9303fe2dd066:10 staticarrayinittypesize=12:7 method0x6000001-1:8 000d:3 call:4 runtime:5 compilerservices:5 runtimehelpers:5 _initializearray:4 class:8 array:4 runtimefieldhandle:4 0012:3 stloc:4 0013 ret:2 end:4 теперь:3 провести построчный анализ создаваться новый массив:19 тип:9 размерность мы:3 попадаться сюрприз вид дублировать ссылка:3 почему предположим 0009:3 происходить инициализация совсем скоро место:2 вернуться:2 посмотреть:2 опять присвоить:2 локальный:3 переменный:6 индекс произойти внимание:4 сюда:3 ldloc:4 присвоение атомарный момент:3 внешний наблюдатель заметить:2 неинициализированный состояние без элемент:4 именно заниматься привести:3 самый:4 начало эквивалентный скорее представлять себя:4 вроде хотя избегать создание:3 два:3 двигать заумный строчка ничто сложный или:2 страшный нет суть наблюдать вызов initializearray заполнять пол:3 токен:2 поместить находиться после:5 выполнение соотвествовать картинка ниже выделить:3 линия являть:3 статично приватный очевидно:4 сгенерировать:2 класс:3 непроизносимый название пара следовать:2 обратить во-первых вложить назвать фактический размер:4 байт:8 равный итого во-вторых наследовать всерьёз надеяться читатель знакомый судьба экземпляр:3 значимый так:2 застрять прима:2 автор какой образ:2 получать просто подсунуть имя:3 недостаточно для:5 чтобы clr:2 необходимый:4 количество:3 память:4 через ildasm увидеть:2 auto ansi:2 extends:2 object custom instance compilergeneratedattribute ctor explicit sealed nested pack:2 тут staticarrayinittypesize=12' assembly:5 00002050:6 директива:3 как-бы говорить блок вы любопытно роль простой:2 указывать выравнивание:2 указанный:2 степень двойка поддерживаться только 128 при отсутствовать перёв com-совместимость поль:2 довольно:2 несмотря длинный из-за вложенность случай:2 интересный начинаться data-label свой:2 очередь:2 являться:3 кусок дать:3 где-то pe-файл смещение непосредственно iladsm data:5 bytearray:4 есть:2 обьявление label как:2 уже:2 видно последовательность little-endian должный понимать работать initailizearray передаваться:2 создать он команда:2 указатель ключевой слово завернуть среда исполнение способный посчитать чтение задать адрес конструировать смысл никакой загадка преобыкновенный rva мочь:2 убедиться использовать:2 dumpbin менее занятный деталь переиспользовать staticarrayinittypesize когда занимать:2 одинаковый листинг long longs byte bytes заставлять тот-же ибо весь aa6c9d77-5fad-47e0-8b55-1d8739074f1f:3 staticarrayinittypesize=32:3 method0x6000001-2 00002070:2 method0x6000001-3 00002090:2 так-же генерировать 0x13 000a 000b stelem:2 000c 000e 000f 0010 0011 собственно фокус они временной помещаться мера заполнение:2 основной причина подход отдельный метод очевидный наивный увеличивать обить:2 построение линейно пропорциональный вместо константный статья:2 поведение:2 версия:2 microsoft другой сторонний разработчик например mono отличаться