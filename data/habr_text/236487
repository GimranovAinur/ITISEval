'236487 |@words здравствовать хотеть поделиться свой опыт:2 сообщество habrahabr речь пойти разработка очень сложный:2 парсер:10 bbcode:15 который:6 преобразовать:2 он:2 html:4 быть:8 писать:2 это:14 типичный конечный:7 автомат:8 просить:2 судить:2 слишком:2 строго:2 так:7 как:9 мой:2 один:4 написание:5 стать хабра рассмотреть:3 чем отличаться обработчик:2 основать:2 регулярный:2 выражение:2 также:3 плюс минус:2 простой малый объесть:2 код:10 мочь:3 некорректно обрабатывать:4 при:2 правильный корректно медленно работать:4 обычно текст:7 несколько проход:2 скорость:2 зависеть:3 объём:2 набор:2 поддерживать:2 тег:11 трудный большой обработка:4 идти матрица состояние:5 быстро только:2 самый:3 дело регулярка быстрый:2 нативный функция:5 php:2 если:2 много практически итак приступить для:5 начало мы:7 нужно какой:2 этап:5 состоять наш:7 что происходить этот:5 результат выполнение заключаться преобразование:3 вид hello:5 world:5 img=:2 jpg:3 массив:4 array:57 type:29 open:2 text:19 attrib:16 tag:56 close:6 img:2 скорее всего процесс:2 раз участвовать сам:3 раздельный gettoken:4 parse:3 разбивать токен:3 тип пробел x0b:2 имя весь:6 остальной ниже:5 привести:4 private:4 function:14 token:46 false:9 char:20 while:2 true isset:7 this-:48 source:2 cursor:3 ===:3 return:9 else:13 break:43 switch:4 case:39 default cursor++ tags:8 собственно:2 логика заключить finite:4 automaton:4 начальный mode:7 меняться выполняться соответствующий номер действие syntax:23 pointer:17 last:47 null:6 'type:18 'text:53 'open:8 'attrib:8 'tag:12 'close:3 pointer++:2 заканчиваться нормализация учёт вложенность элемент:2 зря хранить:2 каждый:2 параметр:2 случай иметь некорректный расположение преобразоваться храниться представить normalize stack:12 foreach:3 key:5 node:21 count:6 allowed:6 root:2 'children:2 search:2 'closed push:4 pop dom:4 последний интересный дерево объект тут основный класс:13 родительский уже:2 догадаться оба наследовать:3 реализовать gethtml:6 abstract:2 class:16 public:13 protected:2 specialchars string:5 chars:4 strtr:2 unspecialchars:3 extends:3 parent:10 children:5 construct:2 child:8 child- getattrib name:4 hasattrib htmlspecialchars кстати корнев разобраться теперь давать создать создание createdom current:6 this new:3 current-:4 'class:2 exists:2 вот:3 полностью завершить расширяемость писаться выше пример class= _gethtml чуть забыть про:2 существенный такой реализация либо требоваться новый существенно нагружать память итог получиться отличный написать год назад сейчас решить рассказать проделать работа сложно пост конец предоставить полный исходник:2 исходный:2 здесь выкладывать занимать около 500 строчка ссылка pastebin com 5xpf3jz6