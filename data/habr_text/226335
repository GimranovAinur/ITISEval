'226335 |@words последний:2 пара день:3 работать над интересный:2 задача хотеть поделиться опыт сообщество чем:2 проявляться проблема:2 запускать:2 хранить процедура хранимок:3 выборка дать:3 для:6 отчёт выполняться:7 три:3 секунда:9 смотреть:6 профайлер:6 бой пользователь:2 результат проходить час:2 тот:3 параметр уже:3 минута аналогично причём:2 использовать:7 таблица вставляться удаляться окружение менять админ делать настройка локализовать запрос:11 insert into table:4 variable1 select from:2 dbo:2 view:2 with:5 unions readuncommitted:2 left:2 join:2 variable2 code:2 directiondimensioncode other saletype where:2 натравить план:13 выполнение:16 заметить что:7 при:5 увеличение:2 время:2 изменяться проблемный:2 что-то:2 далёкий начать внимательный меняться оказаться:2 долг использоваться:4 nestedloop объединение быстрый:2 hashmatch медленный который:3 sql:7 server:6 переключаться через:2 просто:2 прописывать hint' использование:3 hash join' хотеться нужно:5 понять почему:2 выбирать всё-таки правильный:2 один:6 мысль быть:6 так:4 статистика:10 actual:7 number:13 rows:13 estimated:6 равный образ разность такой:3 большой:3 чтобы:4 исследовать cardinality:2 однако раз:3 я возникнуть сомнение неужели всегда:2 возвращаться строка:3 это:9 перехватывать как:4 выполниться стать известный actual-дать соответственно мочь ничто отобразить кроме ноль:2 теперь:2 настоящий значение:5 далее:2 вопрос встать равно:3 единица ведь индекс:5 он:2 актуальный каждый:3 тут:2 без сюрприз если:4 она начинаться низко:2 селективный:2 колонка:4 количество:3 различный:2 мало:2 например:2 null:2 поэтому:2 переместить ключ:2 место предварительно убедиться весь:4 условие накладываться перечислить and значит по-прежнему подходить диагноз отображать писать помнить определение:2 наш случай даже начинать сильно ошибаться решение вручную долгий:2 реальный server' возможность:3 должный иметь:4 много столбец разный адекватно прогнозировать после перестройка обновить опция:3 fullscan:2 повысить качество прогноз update statistics union for вот более микс предыдущий management studio стратегия работа кэшировать положительный:2 сторона отрицательный:2 скорость действительно 1-2:3 периодически порядок 20-40:2 потом продолжать опять происходить:2 когда скачка изменение либо:2 маленький:2 мы:2 предоставлять побороть можно option:2 recompile:3 перестраивать привести 3-4 течение:2 кстати помогать получать максимально оценка временной:2 объект:2 табличный переменный выбор дробный про они описать крайне хороший пост sqlblog com blogs paul white archive 2012 temporary-tables-in-stored-procedures aspx сам определиться важный большинство или