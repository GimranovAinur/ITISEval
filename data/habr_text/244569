'244569 |@words недавно быть:3 озадачить проблема:3 мониторинг:3 несколько:3 десяток сервер:17 наверно:2 редко кто сталкиваться такой задача:16 можно:5 описать правило нужно:2 периодически пинговать иногда выполнять:2 какой-либо действие:3 например:3 исполнение:2 команда:2 через ssh:2 который:5 засабмитить пользователь мочь:2 тип:3 каждый:8 свой:5 приоритет:2 таска:6 1-3 нельзя одновременно для:18 завершаться неудача причина отсутствие связь:2 ждать:2 пока восстановиться пытиться выполнить запланировать первое:2 решение приходить:2 большинство:2 голова запустить поток:4 там делать:4 дело это:3 неплохо что:4 если:3 процесс:2 набор меняться запускать завершать как-то неэлегантный тысяча:2 иметь зачем когда время:2 простаивать очередной пинга:2 данный:2 взглянуть другой:2 сторона представить вид классический producer-consumer:2 мы:5 есть:2 продюсер:2 производить консьюмер:2 этот исполнять разумеется один:2 экземпляр решить наш:2 java просто:2 очень использовать класс priorityqueue:2 executorservice начать как:2 обычно юнит-тест:3 test public void testoffer pollserverqueue:2 new:4 addtask:3 mytask:12 poll:7 assertequals:7 getserverid:3 gettaskid:3 null:2 finishtask добавить очередь:9 три аргумент конструктор означать serverid два taskid метод:2 извлекать извлечь:2 удаться кончиться или остаться уже выполняться возвращать код:6 видно завершение serverid=1 вести тот следующий:2 ура написать писать потребоваться структура:4 дать:3 hashmap:2 хранение:3 текущий исполняемый currenttasks стоящий waitingtasks последовательный опрос необходимый чтобы:2 вызов короче револьвер:3 только пуля после выстрел оставаться барабан peekorder cтруктур hashset быстрый поиск идентификатор раз просматривать последний элемент servers простой:2 объект синхронизация syncobject теперь процедура извлечение короткий хотя получиться компактный публиковать он здесь видеть смысл отослать вы https github com get-a-clue pollserverqueueexampledisclaimer github'e являться закончить частность немой отсутствовать возможность установка внутри механизм обработка ошибка возврат failed сам пингования говориться маленький хороший спать